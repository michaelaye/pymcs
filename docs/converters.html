---

title: Converters for working with MCS data


keywords: fastai
sidebar: home_sidebar

summary: "These are several utility functions for importing and reading MCS data"
description: "These are several utility functions for importing and reading MCS data"
nb_path: "notebooks/01_converters.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/01_converters.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_time" class="doc_header"><code>get_time</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L16" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_time</code>(<strong><code>seconds</code></strong>)</p>
</blockquote>

<pre><code>Convert MCS time to datetime.time.

Parameters
----------
seconds : float
    Seconds of the day passed (max: 86400)

Returns
-------
datetime.time</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_date" class="doc_header"><code>get_date</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L37" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_date</code>(<strong><code>dateint</code></strong>)</p>
</blockquote>

<pre><code>Convert MCS date integer into datetime.date

Parameters
----------
dateint : int
    Integer for the date in format yyyymmdd

Returns
-------
datetime.date</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_datetime_column" class="doc_header"><code>add_datetime_column</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L53" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_datetime_column</code>(<strong><code>df</code></strong>)</p>
</blockquote>

<pre><code>Add full datetime column to MCS L2 dataframe.

Using get_time and get_date helpers, combine them into a full datetime
column and add it to the incoming dataframe.
Set index to the new datetime column.

Parameters
----------
df : pd.DataFrame
    A MCS dataframe that has a `Date` and a `Time` column in the formats
    yyyymmdd (int) for the date and seconds of the day for time, respectively.

Returns
-------
Nothing, new column is added to the incoming dataframe and then made into
the index.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_list_of_hourfolders" class="doc_header"><code>get_list_of_hourfolders</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L77" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_list_of_hourfolders</code>(<strong><code>daystring</code></strong>)</p>
</blockquote>

<pre><code>For a given day(string), find all hour folders.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_hour_subfiles" class="doc_header"><code>get_hour_subfiles</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L84" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_hour_subfiles</code>(<strong><code>subfolder</code></strong>=<em><code>'080301000000'</code></em>)</p>
</blockquote>

<pre><code>Get sorted list of .out files for given subfolder.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_4hfiles_to_df" class="doc_header"><code>convert_4hfiles_to_df</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L97" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_4hfiles_to_df</code>(<strong><code>subfolder</code></strong>, <strong><code>write</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

<pre><code>Read in the .out files and convert to pandas DataFrame for given subfolder.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cols_to_numeric" class="doc_header"><code>cols_to_numeric</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L112" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cols_to_numeric</code>(<strong><code>df</code></strong>)</p>
</blockquote>

<pre><code>Change each column's dtype to a numerical one, if it's still a str/object.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_dayfiles_to_df" class="doc_header"><code>convert_dayfiles_to_df</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L118" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_dayfiles_to_df</code>(<strong><code>daystring</code></strong>, <strong><code>write</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

<pre><code>For a given day(string), convert all data to a pandas DataFrame and store as parquet.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_month_to_df" class="doc_header"><code>convert_month_to_df</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L131" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_month_to_df</code>(<strong><code>month</code></strong>, <strong><code>write</code></strong>=<em><code>True</code></em>)</p>
</blockquote>

<pre><code>Convert all data for a given month into a dataframe and store as parquet.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="run_month_conversion_parallel" class="doc_header"><code>run_month_conversion_parallel</code><a href="https://github.com/michaelaye/pymcs/tree/master/pymcs/converters.py#L149" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>run_month_conversion_parallel</code>()</p>
</blockquote>

<pre><code>Run the month conversion in parallelized form using dask.delayed.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

